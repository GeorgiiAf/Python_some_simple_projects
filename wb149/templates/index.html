<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Управление студентами</title>
    <link rel="stylesheet" href="/static/css/styles.css">
</head>
<body>
    <h1>Управление студентами</h1>

    <!-- Раздел для поиска студентов -->
    <div id="search-section">
        <h2>Поиск студентов</h2>
        <input type="text" id="search" placeholder="Введите имя или фамилию">
        <button onclick="findStudents()">Найти</button>
        <button onclick="getAllStudents()">Показать всех</button>
    </div>

    <hr>

    <!-- Список студентов -->
    <div id="student-list">
        <h2>Список студентов</h2>
        <table id="students-table">
            <thead>
                <tr>
                    <th>Номер зачетной книжки</th>
                    <th>Имя</th>
                    <th>Фамилия</th>
                    <th>Действия</th>
                </tr>
            </thead>
            <tbody>
                <!-- Данные будут добавляться динамически -->
            </tbody>
        </table>
    </div>

    <hr>

    <!-- Модальное окно для отображения зачётной книжки -->
    <div id="student-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Зачётная книжка студента: <span id="student-id-display"></span></h2>
                <span class="close" onclick="closeModal()">&times;</span>
            </div>
            <div class="modal-body">
                <table id="grades-table">
                    <thead>
                        <tr>
                            <th>Предмет</th>
                            <th>ID</th>
                            <th>Дата</th>
                            <th>Оценка</th>
                            <th>Действия</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Оценки студента будут вставлены сюда -->
                    </tbody>
                </table>
                <h3>Добавить оценку</h3>
                <form id="add-grade-form" onsubmit="addGrade(); return false;">
                    <input type="text" id="modal-subject-name" placeholder="Название предмета" required>
                    <input type="number" id="modal-subject-grade" placeholder="Оценка" min="1" max="5" required>
                    <input type="date" id="modal-subject-date" required>
                    <button type="submit">Добавить</button>
                </form>
            </div>
            <div class="modal-footer">
                <button onclick="closeModal()" class="modal-button">Закрыть</button>
            </div>
        </div>
    </div>

    <hr>

    <!-- Раздел для добавления нового студента -->
    <div id="add-student-section">
        <h2>Добавить студента</h2>
        <form onsubmit="addStudent(); return false;">
            <input type="text" id="name-input" placeholder="Имя" required>
            <input type="text" id="surname-input" placeholder="Фамилия" required>
            <input type="text" id="student-id-input" placeholder="Номер зачетной книжки" required>
            <button type="submit">Добавить</button>
        </form>
    </div>

    <hr>

    <!-- Раздел для работы с предметами -->
    <div id="subjects-section" style="display: none;">
        <h2>Оценки студента</h2>
        <div id="selected-student"></div>
        <table id="subjects-table">
            <thead>
                <tr>
                    <th>Предмет</th>
                    <th>Оценка</th>
                    <th>Действия</th>
                </tr>
            </thead>
            <tbody>
                <!-- Данные будут подгружаться динамически -->
            </tbody>
        </table>
        <h3>Добавить предмет</h3>
        <form onsubmit="addGrade(); return false;">
            <input type="text" id="subjects-section-subject-name" placeholder="Название предмета" required>
            <input type="number" id="subjects-section-subject-grade" placeholder="Оценка" min="1" max="5" required>
            <button type="submit">Добавить</button>
        </form>
    </div>

    <script src="/static/js/script.js"></script>
    <script>document.addEventListener('DOMContentLoaded', function() {
        getAllStudents();
    });
</script>
</body>
</html>
